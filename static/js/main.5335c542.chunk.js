(this["webpackJsonpupgrade-helper"]=this["webpackJsonpupgrade-helper"]||[]).push([[0],{159:function(e){e.exports=JSON.parse('{"a":"https://backstage.github.io/upgrade-helper"}')},160:function(e,t,n){e.exports=n.p+"static/media/logo.d7a4563b.svg"},173:function(e,t,n){e.exports=n(310)},178:function(e,t,n){},310:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),i=n(14),r=n.n(i),c=(n(178),n(25)),s=n(7),l=n(10),u=n(4),p=n(314),f=n(139),b=n(29),d=n.n(b),g=n(42),m=n(313),h=n(15),j=n.n(h),O=n(140),v=n.n(O),y=n(8),x=n(315),C=n(2);var k=x.a.Option,w=Object(u.a)("div",{target:"e8azqbf0"})({name:"8atqhb",styles:"width:100%;"}),V=Object(u.a)(x.a,{target:"e8azqbf1"})({name:"8atqhb",styles:"width:100%;"}),N=function(e){var t=e.title,n=e.options,a=Object(l.a)(e,["title","options"]);return Object(C.c)(w,null,Object(C.c)("h4",null,t),Object(C.c)(V,Object(y.a)({size:"large"},a),n.map((function(e){var t=e.version,n=e.createApp;return Object(C.c)(k,{key:t,value:t},n?"".concat(t," (create-app@").concat(n,")"):t)}))))},S=n(319);var D,P,T="upgradeButton",R=Object(u.a)("div",{target:"e8ia1jb0"})({name:"1shcrr",styles:"display:flex;justify-content:center;height:auto;overflow:hidden;margin-top:25px;"}),A=Object(u.a)(S.a,{target:"e8ia1jb1"})({name:"1fe9jde",styles:"border-radius:3px;"}),E=o.a.forwardRef((function(e,t){var n=e.onShowDiff,a=Object(l.a)(e,["onShowDiff"]);return Object(C.c)(R,null,Object(C.c)(A,Object(y.a)({},a,{ref:t,type:"primary",size:"large","data-testid":T,onClick:n}),"Show me how to upgrade!"))})),z={RN:"react-native",RNM:"react-native-macos",RNW:"react-native-windows",BACKSTAGE:"@backstage/create-app"},B={CPP:"cpp",CS:"cs"},L=(D={},Object(c.a)(D,z.RN,"react-native-community/rn-diff-purge"),Object(c.a)(D,z.RNM,"acoates-ms/rnw-diff"),Object(c.a)(D,z.RNW,"acoates-ms/rnw-diff"),Object(c.a)(D,z.BACKSTAGE,"backstage/upgrade-helper-diff"),D),M=(P={},Object(c.a)(P,z.RN,"https://github.com/react-native-community/releases/blob/master/CHANGELOG.md"),Object(c.a)(P,z.RNM,"https://github.com/microsoft/react-native-macos/releases/tag/"),Object(c.a)(P,z.RNW,"https://github.com/microsoft/react-native-windows/releases/tag/react-native-windows_"),Object(c.a)(P,z.BACKSTAGE,"https://github.com/backstage/backstage/releases/tag/"),P),q=Object({NODE_ENV:"production",PUBLIC_URL:"/upgrade-helper",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_DIFF_BASE_BRANCH||"master";function I(e){var t=e.packageName,n=e.language,a=e.isPackageNameDefinedInURL,o=e.fromVersion,i=e.toVersion,r=window.location.href.replace(window.location.search,""),c=""!==o||""!==i?"?from=".concat(o,"&to=").concat(i):"?",s=a?"&package=".concat(t):"",l=t===z.RNW?"&language=".concat(n):"";window.history.replaceState(null,null,"".concat(r).concat(c).concat(s).concat(l))}var K="(min-width: 768px)",_=n(24),U=function(e){var t=e.packageName;return L[t]},W=function(e){var t=e.packageName;return"https://raw.githubusercontent.com/".concat(U({packageName:t}),"/").concat(q,"/").concat(t===z.BACKSTAGE?"releases.json":t===z.RNM||t===z.RNM?"RELEASES_MAC":"RELEASES")},F=function(e){var t,n=e.packageName,a=e.language,o=e.fromVersion,i=e.toVersion;n===z.RNM||n===z.RNW&&"".concat(a,"/");return"https://raw.githubusercontent.com/".concat(U({packageName:n}),"/").concat((t={packageName:n},t.packageName===z.BACKSTAGE?"master":"diffs"),"/diffs/").concat(o,"..").concat(i,".diff")},G=function(e){var t=e.packageName,n=e.language,a=e.version,o=e.path,i=t===z.RNM?"mac/".concat(a):t===z.RNW?"".concat(n,"/").concat(a):a;return"https://github.com/".concat(U({packageName:t}),"/raw/release/").concat(i,"/").concat(o)},Y=function(e,t){return e.replace(new RegExp("".concat(t||"backstagediffapp","/")),"")},H=function(e,t){return t?e.replace(new RegExp("backstagediffapp","g"),t).replace(new RegExp("backstagediffapp".toLowerCase(),"g"),t.toLowerCase()):e},X=function(e){var t=e.fromVersion,n=e.toVersion,a=e.versions,o=j.a.valid(j.a.coerce(n));return a.filter((function(e){var n=e.version,a=j.a.coerce(n);return-1!==j.a.compare(o,a)&&![0,-1].includes(j.a.compare(a,t))}))},J=function(e){var t=e.version,n=e.packageName;return n===z.RNW||n===z.RNM||n===z.BACKSTAGE?"".concat(M[n],"v").concat(t):"".concat(M[n],"#v").concat(t.replace(".",""),"0")},$=function(e){return navigator.webdriver?0:e},Q=n(110),Z=n.n(Q),ee=o.a.createContext({isDone:!1,isLoading:!1,releases:void 0}),te=o.a.memo((function(e){var t=e.children,n=function(e){var t=e.packageName,n=Object(a.useState)(!0),o=Object(s.a)(n,2),i=o[0],r=o[1],c=Object(a.useState)(!1),l=Object(s.a)(c,2),u=l[0],p=l[1],f=Object(a.useState)(void 0),b=Object(s.a)(f,2),m=b[0],h=b[1];return Object(a.useEffect)((function(){(function(){var e=Object(g.a)(d.a.mark((function e(){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),p(!1),e.next=4,fetch(W({packageName:t}));case 4:return e.next=6,e.sent.json();case 6:return n=e.sent,a=Object.entries(n).map((function(e){var t=Object(s.a)(e,2),n=t[0],a=t[1];return Object(_.a)({version:n},a)})).filter((function(e){return!1===e.version.includes("-next")})).sort((function(e,t){return Z()(e.version,t.version)})),h(a),r(!1),p(!0),e.abrupt("return");case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t]),{isLoading:i,isDone:u,releases:m}}({packageName:e.packageName}),o=Object(a.useState)(),i=Object(s.a)(o,2),r=i[0],c=i[1];return Object(C.c)(ee.Provider,{value:Object(_.a)({},n,{setSelectedVersions:c},r)},t)})),ne=function(){return Object(a.useContext)(ee)},ae="fromVersionSelector",oe="toVersionSelector",ie=Object(u.a)("div",{target:"e1kwjzpc0"})("display:flex;flex-direction:column;justify-content:space-between;gap:15px;@media ",K,"{flex-direction:row;gap:0;}"),re=Object(u.a)(N,{target:"e1kwjzpc1"})("@media ",K,"{padding-right:5px;}"),ce=Object(u.a)((function(e){var t=e.popover,n=Object(l.a)(e,["popover"]);return t?o.a.cloneElement(t,{children:Object(C.c)(N,n)}):Object(C.c)(N,n)}),{target:"e1kwjzpc2"})("@media ",K,"{padding-left:5px;}"),se=function(e){var t=e.version,n=e.versionToCompare;return["prerelease","prepatch",null].includes(j.a.diff(t,n))},le=function(e){var t=e.releasedVersions,n=e.toVersion,a=e.latestVersion,o=e.showReleaseCandidates,i=null!==j.a.prerelease(n),r=null!==j.a.prerelease(a);return t.filter((function(e){var t=e.version;return o&&function(e){var t=e.version,n=e.latestVersion;return j.a.prerelease(t)&&se({version:n,versionToCompare:t})}({version:t,latestVersion:a})||null===j.a.prerelease(t)||i&&se({version:n,versionToCompare:t})||r&&se({version:a,versionToCompare:t})}))},ue=function(e){var t=e.releasedVersions,n=e.minVersion,a=e.maxVersion,o=function(e){return j.a.valid(j.a.coerce(e.find((function(e){var t=e.createApp;return!j.a.prerelease(t)&&0===j.a.patch(t)}))))}(t);return t.filter((function(e){var t,i=e.version;return i.length>0&&(a&&j.a.lt(i,a)||n&&j.a.gt(i,n)&&!((t=i).includes("rc")&&j.a.valid(j.a.coerce(t))===o))}))},pe=function(e){var t=e.releasedVersions,n=e.versionToCompare,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"minor";return t.find((function(e){return j.a.lt(e,n)&&j.a.diff(j.a.valid(j.a.coerce(e)),j.a.valid(j.a.coerce(n)))===a}))},fe=function(e){var t=e.version,n=e.allVersions,a=e.minVersion;try{return t&&n.includes(t)&&(!a||a&&j.a.gt(t,a))}catch(o){return!1}},be=function(e){var t=e.packageName,n=e.language,o=e.isPackageNameDefinedInURL,i=e.showDiff,r=e.showReleaseCandidates,c=Object(a.useState)([]),l=Object(s.a)(c,2),u=l[0],p=l[1],f=Object(a.useState)([]),b=Object(s.a)(f,2),h=b[0],j=b[1],O=Object(a.useState)([]),y=Object(s.a)(O,2),x=y[0],k=y[1],w=Object(a.useState)(!1),V=Object(s.a)(w,2),N=V[0],S=V[1],D=Object(a.useState)(""),P=Object(s.a)(D,2),T=P[0],R=P[1],A=Object(a.useState)(""),z=Object(s.a)(A,2),B=z[0],L=z[1],M=Object(a.useRef)(null),q=ne(),K=q.isDone,_=q.isLoading,U=q.releases,W=q.setSelectedVersions,F=Object(a.useMemo)((function(){return null===U||void 0===U?void 0:U.map((function(e){return e.version}))}),[U]);Object(a.useEffect)((function(){var e=function(){var e=v.a.parse(window.location.search);return{fromVersion:e.from,toVersion:e.to}}();K&&function(){var t=Object(g.a)(d.a.mark((function t(){var n,a,o,i,c,s,l;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=fe({version:e.fromVersion,allVersions:F}),a=fe({version:e.toVersion,allVersions:F,minVersion:e.fromVersion}),o=F[0],i=a?e.toVersion:o,c=le({releasedVersions:U,toVersion:i,latestVersion:o,showReleaseCandidates:r}),s=c.map((function(e){return e.version})),p(c),l=n?e.fromVersion:pe({releasedVersions:s,versionToCompare:i},"minor")||pe({releasedVersions:s,versionToCompare:i},"patch"),j(ue({releasedVersions:c,maxVersion:i})),k(ue({releasedVersions:c,minVersion:l})),R(l),L(i),S(n&&a);case 14:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()}),[K,F,R,L,r]),Object(a.useEffect)((function(){_||(j(ue({releasedVersions:u,maxVersion:B})),k(ue({releasedVersions:u,minVersion:T})),N&&M.current.props.onClick())}),[_,u,T,B,N,r]);return Object(C.c)(a.Fragment,null,Object(C.c)(ie,null,Object(C.c)(re,{"data-testid":ae,title:"What's your current Backstage release or @backstage/create-app (0.4.x) version?",loading:_,value:T,options:h,onChange:function(e){return R(e)}}),Object(C.c)(ce,{"data-testid":oe,title:"To which version would you like to upgrade?",loading:_,value:B,options:x,popover:"0.60.1"===B&&Object(C.c)(m.a,{visible:!0,placement:"topLeft",content:"We recommend using the latest 0.60 patch release instead of 0.60.1."}),onChange:function(e){return L(e)}})),Object(C.c)(E,{ref:M,onShowDiff:function(){var e,a,r=function(e){return U.find((function(t){return t.version===e}))};W({from:r(T),to:r(B)}),i({fromVersion:(null===(e=r(T))||void 0===e?void 0:e.createApp)||T,toVersion:(null===(a=r(B))||void 0===a?void 0:a.createApp)||B}),I({packageName:t,language:n,isPackageNameDefinedInURL:o,fromVersion:T,toVersion:B})}}))},de=n(79),ge=n(316),me=n(17),he=n(34),je=(n(274),n(72)),Oe=n.n(je),ve=n(320),ye=n(323),xe=n(324),Ce=n(325),ke=n(326),we=n(327),Ve=n(146),Ne=n(321);var Se=Object(u.a)((function(e){var t=e.comments,n=e.isDiffCollapsed,a=e.uncollapseDiff,o=Object(l.a)(e,["comments","isDiffCollapsed","uncollapseDiff"]),i=Object.keys(t).length,r=n&&i>0;return Object(C.c)(me.c.div,Object(y.a)({},o,{variants:{visible:{opacity:1,cursor:"pointer"},invisible:{opacity:0,cursor:"initial"}},animate:r>0?"visible":"invisible",transition:{duration:$(.5)},onClick:a}),Object(C.c)(Ne.a,{className:"icon"}),Object(C.c)("span",{className:"reminder"},i," hidden comment",i>1&&"s"))}),{target:"euvokhb0"})({name:"10tqxc0",styles:"display:inline;background-color:#fffbe6;padding:5px;border-radius:3px;margin-left:10px;border:1px solid #ffe58f;& > .icon{margin-right:6px;}& > .reminder{word-spacing:-2px;}"}),De=n(322);var Pe=Object(u.a)((function(e){var t=e.visible,n=e.version,a=e.path,o=e.packageName,i=Object(l.a)(e,["visible","version","path","packageName"]);return console.info(t,n,a,o),t?Object(C.c)(S.a,Object(y.a)({},i,{type:"ghost",shape:"circle",icon:Object(C.c)(De.a,null),target:"_blank",href:G({packageName:o,version:n,path:a})})):null}),{target:"e1cpms9w0"})({name:"cnzq6",styles:"color:#24292e;font-size:12px;border-width:0;&:hover,&:focus{color:#24292e;}"});var Te=Object(u.a)((function(e){var t=e.visible,n=e.version,a=e.path,o=e.packageName,i=Object(l.a)(e,["visible","version","path","packageName"]);return t?Object(C.c)(S.a,Object(y.a)({},i,{type:"link",target:"_blank",href:G({packageName:o,version:n,path:a})}),"View file"):null}),{target:"e11qqjpt0"})({name:"jskc3k",styles:"font-size:12px;color:#24292e;"});var Re="collapseClickableArea",Ae=Object(u.a)("div",{target:"e1bx3rr90"})({name:"otpv63",styles:"display:flex;justify-content:space-between;font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace;font-size:12px;color:#24292e;line-height:32px;background-color:#fafbfc;border-bottom:1px solid #e1e4e8;border-top-left-radius:2px;border-top-right-radius:2px;padding:5px 10px;position:sticky;top:0;"}),Ee=Object(u.a)(ye.a,{target:"e1bx3rr91"})({name:"terggw",styles:"font-size:10px;margin:0 5px;color:#f78206;"}),ze=function(e){var t=e.oldPath,n=e.newPath,a=e.type;e.appName;return"delete"===a?Object(C.c)("span",null,t):t!==n&&"add"!==a?Object(C.c)("span",null,t," ",Object(C.c)(Ee,null)," ",n):Object(C.c)("span",null,n)},Be=function(e){var t=e.type,n=Object(l.a)(e,["type"]);return Object(C.c)(ve.a,Object(y.a)({},n,{color:{add:"blue",modify:"green",delete:"red",rename:"orange"}[t]}),{add:"ADDED",modify:"MODIFIED",delete:"DELETED",rename:"RENAMED"}[t])},Le=function(e){var t=e.visible,n=Object(l.a)(e,["visible"]);return t?Object(C.c)(ve.a,Object(y.a)({},n,{color:"cyan"}),"BINARY"):null},Me="\n  font-size: 13px;\n  line-height: 0;\n  border-width: 0px;\n  width: 22px;\n  height: 22px;\n  margin: 5px 0;\n  border-radius: 50%;\n",qe=Object(u.a)((function(e){var t=e.visible,n=e.onClick,a=Object(l.a)(e,["visible","onClick"]);return t?Object(C.c)(S.a,Object(y.a)({},a,{type:"ghost",icon:Object(C.c)(xe.a,null),onClick:n})):Object(C.c)(S.a,Object(y.a)({},a,{type:"ghost",icon:Object(C.c)(Ce.a,null),onClick:n}))}),{target:"e1bx3rr92"})(Me," &,&:hover,&:focus{color:",(function(e){return e.isDiffCompleted?"#52c41a":"#24292e"}),";}"),Ie=Object(u.a)((function(e){var t=e.oldPath,n=e.newPath,a=e.type,o=e.onCopy,i=e.copyPathPopoverContent,r=e.resetCopyPathPopoverContent,c=Object(l.a)(e,["oldPath","newPath","type","onCopy","copyPathPopoverContent","resetCopyPathPopoverContent"]);return Object(C.c)(Ve.CopyToClipboard,{text:"add"===a?n:t,onCopy:o},Object(C.c)(m.a,{content:i,trigger:"hover",overlayStyle:{width:"175px",textAlign:"center"}},Object(C.c)(S.a,Object(y.a)({},c,{type:"ghost",icon:Object(C.c)(ke.a,null),onMouseOver:r}))))}),{target:"e1bx3rr93"})(Me,""),Ke=Object(u.a)("div",{target:"e1bx3rr94"})({name:"t4ptyc",styles:"display:inline-block;&:hover{cursor:pointer;}"}),_e=Object(u.a)((function(e){var t=e.visible,n=(e.isDiffCollapsed,Object(l.a)(e,["visible","isDiffCollapsed"]));return t?Object(C.c)(S.a,Object(y.a)({},n,{type:"link",icon:Object(C.c)(we.a,null)})):null}),{target:"e1bx3rr95"})("color:#24292e;margin-right:2px;font-size:10px;transform:",(function(e){return e.isDiffCollapsed?"rotate(-90deg)":"initial"}),";transition:transform 0.2s ease-in-out;transform-origin:center;line-height:0;height:auto;&:hover,&:focus{color:#24292e;}"),Ue=function(e){var t=e.oldPath,n=e.newPath,o=e.toVersion,i=e.type,r=e.diffKey,c=e.hasDiff,s=e.isDiffCollapsed,u=e.setIsDiffCollapsed,p=e.isDiffCompleted,f=e.onCompleteDiff,b=e.onCopyPathToClipboard,d=e.copyPathPopoverContent,g=e.resetCopyPathPopoverContent,m=e.appName,h=e.diffComments,j=e.packageName,O=Object(l.a)(e,["oldPath","newPath","toVersion","type","diffKey","hasDiff","isDiffCollapsed","setIsDiffCollapsed","isDiffCompleted","onCompleteDiff","onCopyPathToClipboard","copyPathPopoverContent","resetCopyPathPopoverContent","appName","diffComments","packageName"]),v=function(e){var t=e.oldPath,n=e.newPath,a=e.appName,o=H(t,a),i=H(n,a);return{oldPath:Y(o,a),newPath:Y(i,a)}}({oldPath:t,newPath:n,appName:m});return Object(C.c)(Ae,O,Object(C.c)("div",null,Object(C.c)(Ke,{"data-testid":Re,onClick:function(e){var t=e.altKey;return u(!s,t)}},Object(C.c)(_e,{visible:c,isDiffCollapsed:s}),Object(C.c)(ze,{oldPath:v.oldPath,newPath:v.newPath,type:i,appName:m})," ",Object(C.c)(Be,{type:i}),Object(C.c)(Le,{visible:!c})),Object(C.c)(Ie,{oldPath:v.oldPath,newPath:v.newPath,type:i,onCopy:b,copyPathPopoverContent:d,resetCopyPathPopoverContent:g}),Object(C.c)(Se,{comments:h,isDiffCollapsed:s,uncollapseDiff:function(){return u(!1)}})),Object(C.c)("div",null,Object(C.c)(a.Fragment,null,Object(C.c)(Te,{visible:c&&"delete"!==i,version:o,path:n,packageName:j}),Object(C.c)(Pe,{visible:!c&&"delete"!==i,version:o,path:n,packageName:j}),Object(C.c)(qe,{visible:p,onClick:function(){return f(r)}}))))},We=n(147);var Fe=Object(u.a)((function(e){return Object(C.c)("a",Object(y.a)({target:"_blank"},e,{rel:"noopener",onClick:function(e){return e.stopPropagation()}}))}),{target:"e1eys6y60"})({name:"mr5ph2",styles:"text-decoration:none;color:#045dc1;"}),Ge=Object(u.a)("em",{target:"e1eys6y61"})({name:"j8y7sr",styles:"font-style:normal;background-color:rgba(27,31,35,0.07);border-radius:3px;font-size:85%;margin:0;padding:0.2em 0.4em;"}),Ye=function(e){var t=e.forceBlock,n=void 0!==t&&t,a=e.options,o=void 0===a?{}:a,i=Object(l.a)(e,["forceBlock","options"]);return Object(C.c)(We.a,Object(y.a)({},i,{options:Object(_.a)({},o,{forceBlock:n,overrides:Object(_.a)({},o.overrides,{a:Fe,em:Ge,code:Ge,p:Object(u.a)("p",{target:"e1eys6y62"})({name:"gx0lhm",styles:"margin-bottom:0;"})})})}))};var He={add:"#d6fedb",delete:"#fdeff0",neutral:"#ffffff"},Xe=Object(u.a)((function(e){var t=e.isCommentVisible,n=e.children,a=Object(l.a)(e,["isCommentVisible","children"]);return Object(C.c)(me.c.div,Object(y.a)({},a,{variants:{visible:{height:"auto"},hidden:{height:10}},initial:t?"visible":"hidden",animate:t?"visible":"hidden",transition:{duration:.5},inherit:!1}),Object(C.c)("div",{children:n}))}),{target:"e1qcg9nb0"})("overflow:hidden;& > div{display:flex;flex-direction:row;background-color:",(function(e){var t=e.lineChangeType;return He[t]}),";cursor:pointer;}"),Je=Object(u.a)("div",{target:"e1qcg9nb1"})({name:"lx0a8",styles:"flex:1;position:relative;padding:16px;color:#000;background-color:#fffbe6;user-select:none;"}),$e=Object(u.a)((function(e){var t=e.isCommentVisible,n=Object(l.a)(e,["isCommentVisible"]);return Object(C.c)(me.c.div,Object(y.a)({},n,{variants:{visible:{scaleX:1},hidden:{scaleX:10}},whileHover:{scale:2},initial:t?"visible":"hidden",animate:t?"visible":"hidden",transition:{duration:.25}}))}),{target:"e1qcg9nb2"})({name:"1vupd63",styles:"background-color:#ffe58f;margin-left:20px;width:10px;cursor:pointer;"}),Qe=Object(u.a)(Ye,{target:"e1qcg9nb3"})("opacity:1;",(function(e){return!e.isCommentVisible&&"\n      opacity: 0;\n    "})," transition:opacity 0.25s ease-out;"),Ze={ADD:"I",DELETE:"D",NEUTRAL:"N"},et=function(e){var t=e.versions,n=e.newPath,o=e.fromVersion,i=e.toVersion,r=Y(n);return X({versions:t,fromVersion:o,toVersion:i}).filter((function(e){var t=e.comments;return t&&t.length>0&&t.some((function(e){return e.fileName===r}))})).reduce((function(e,t){var n=t.comments.reduce((function(e,t){var n=t.fileName,o=t.lineChangeType,i=t.lineNumber,s=t.content;return n!==r?e:Object(_.a)({},e,Object(c.a)({},function(e){var t=e.lineChangeType,n=e.lineNumber;return"".concat(Ze[t.toUpperCase()]).concat(n)}({lineChangeType:o,lineNumber:i}),Object(C.c)(tt,{content:Object(C.c)(a.Fragment,null,s),lineChangeType:o})))}),{});return Object(_.a)({},e,{},n)}),{})},tt=function(e){var t=e.content,n=e.lineChangeType,o=Object(a.useState)(!0),i=Object(s.a)(o,2),r=i[0],c=i[1];return Object(C.c)(Xe,{isCommentVisible:r,lineChangeType:n,onClick:function(){return c(!r)}},Object(C.c)($e,{isCommentVisible:r,onClick:function(){return c(!r)}}),Object(C.c)(Je,null,Object(C.c)(Qe,{isCommentVisible:r},t.props.children)))};var nt="Click to copy file path",at="File path copied!",ot=Object(u.a)("div",{target:"ei7z45h0"})({name:"kvrbmd",styles:"border:1px solid #e8e8e8;border-radius:3px;margin-bottom:16px;margin-top:16px;"}),it=Object(u.a)("div",{target:"ei7z45h1"})({name:"roblq6",styles:"background-color:#f1f8ff;margin-left:30px;padding-left:4px;color:'#1b1f23b3';"}),rt=Object(u.a)(he.a,{target:"ei7z45h2"})({name:"pon55n",styles:"background-color:#dbedff;"}),ct=Object(u.a)(he.b,{target:"ei7z45h3"})({name:"m3lb03",styles:".diff-gutter-col{width:30px;}tr.diff-line{font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace;}td.diff-gutter{color:rgba(27,31,35,0.3);padding:0;text-align:center;font-size:12px;cursor:auto;}td.diff-gutter .diff-line-normal{background-color:#cdffd8;border-color:#bef5cb;}td.diff-gutter:hover{cursor:pointer;color:rgba(27,31,35,0.6);}td.diff-code{font-size:12px;color:#24292e;}td.diff-code-insert .diff-code-edit{background-color:#acf2bd;}td.diff-gutter-omit:before{width:0;background-color:transparent;}td.diff-widget-content{padding:0;}"}),st=o.a.memo((function(e){var t=e.packageName,n=e.oldPath,o=e.newPath,i=e.type,r=e.hunks,c=e.fromVersion,l=e.toVersion,u=e.diffKey,p=e.isDiffCompleted,f=e.onCompleteDiff,b=e.selectedChanges,d=e.onToggleChangeSelection,g=e.areAllCollapsed,m=e.setAllCollapsed,h=e.diffViewStyle,j=e.appName,O=Object(a.useState)(function(e){var t=e.type,n=e.hunks;return"delete"===t||n.length>5||void 0}({type:i,hunks:r})),v=Object(s.a)(O,2),y=v[0],x=v[1],k=Object(a.useState)(nt),w=Object(s.a)(k,2),V=w[0],N=w[1],S=Object(a.useCallback)((function(e){return j?e.map((function(e){return Object(_.a)({},e,{changes:e.changes.map((function(e){return Object(_.a)({},e,{content:H(e.content,j)})}))})})):e}),[j]);Object(a.useEffect)((function(){void 0!==g&&g!==y?x(g):p&&void 0===y&&x(!0)}),[g,y,p]);var D=ne().releases,P=et({versions:D,newPath:o,fromVersion:c,toVersion:l,appName:j});return Object(C.c)(ot,null,Object(C.c)(Ue,{oldPath:n,newPath:o,toVersion:l,type:i,diffKey:u,hasDiff:r.length>0,isDiffCollapsed:y,setIsDiffCollapsed:function(e,t){if(t)return m(e);m(void 0),x(e)},isDiffCompleted:p,onCopyPathToClipboard:function(){N(at)},copyPathPopoverContent:V,resetCopyPathPopoverContent:function(){V===at&&N(nt)},onCompleteDiff:f,appName:j,diffComments:P,packageName:t}),!y&&Object(C.c)(ct,{viewType:h,diffType:i,hunks:r,widgets:P,optimizeSelection:!0,selectedChanges:b},(function(e){var t=S(e),n={enhancers:[Object(he.d)(t)]},a=Object(he.f)(t,n);return t.map((function(e){return[Object(C.c)(rt,{key:"decoration-"+e.content},Object(C.c)(it,null,e.content)),Object(C.c)(he.c,{key:e.content,hunk:e,tokens:a,gutterEvents:{onClick:d}})]}))})))}),(function(e,t){return e.isDiffCompleted===t.isDiffCompleted&&e.areAllCollapsed===t.areAllCollapsed&&e.diffViewStyle===t.diffViewStyle&&e.appName===t.appName}));var lt="diffSection",ut=Object(u.a)("h1",{target:"e1jqko7g0"})({name:"l2z0vi",styles:"margin-top:0.5em;"}),pt=function(e){var t=e.packageName,n=e.diff,o=e.getDiffKey,i=e.title,r=e.completedDiffs,c=e.isDoneSection,l=e.fromVersion,u=e.toVersion,p=e.handleCompleteDiff,f=e.selectedChanges,b=e.onToggleChangeSelection,d=e.diffViewStyle,g=e.appName,m=e.doneTitleRef,h=Object(a.useState)(void 0),j=Object(s.a)(h,2),O=j[0],v=j[1],x=Object(a.useCallback)((function(){var e=Oe.a.satisfies(l,">= 0.61.0 <= 0.62.0"),t=Oe.a.satisfies(u,">= 0.62.0 <= 0.63.0");return e&&t}),[l,u])();return Object(C.c)("div",{"data-testid":lt},i&&r.length>0&&Object(C.c)(ut,{ref:m},i),n.map((function(e){var n=o(e),a=r.includes(n);return c!==a||x&&e.oldPath.match(/gradlew.bat/)&&e.newPath.match(/gradlew.bat/)?null:Object(C.c)(st,Object(y.a)({key:"".concat(e.oldRevision).concat(e.newRevision)},e,{packageName:t,type:"new"===e.type?"add":e.type,diffKey:n,diffViewStyle:d,fromVersion:l,toVersion:u,isDiffCompleted:r.includes(n),onCompleteDiff:p,selectedChanges:f,onToggleChangeSelection:b,areAllCollapsed:O,setAllCollapsed:v,appName:g}))})))},ft=n(113);var bt=function(){return Object(C.c)(ft.a,{speed:1,backgroundColor:"#eee",foregroundColor:"#e6e6e6",viewBox:"0 0 400 100"},Object(C.c)("rect",{width:"250",height:"6",rx:"1.5"}))},dt=function(){return Object(C.c)(ft.a,{speed:1,backgroundColor:"#eee",foregroundColor:"#e6e6e6",viewBox:"0 0 400 100"},Object(C.c)("rect",{x:"0",y:"10",width:"47%",height:"6",rx:"1.5"}),Object(C.c)("rect",{x:"200",y:"10",width:"41%",height:"6",rx:"1.5"}),Object(C.c)("rect",{x:"0",y:"18",width:"43%",height:"6",rx:"1.5"}),Object(C.c)("rect",{x:"200",y:"34",width:"40%",height:"6",rx:"1.5"}),Object(C.c)("rect",{x:"200",y:"42",width:"45%",height:"6",rx:"1.5"}),Object(C.c)("rect",{x:"0",y:"42",width:"40%",height:"6",rx:"1.5"}),Object(C.c)("rect",{x:"0",y:"50",width:"44%",height:"6",rx:"1.5"}))},gt=Object(u.a)(me.c.div,{target:"e1q7zk9m0"})({name:"h9hnq2",styles:"margin-top:16px;border:1px solid #e8e8e8;border-radius:3px;"}),mt=Object(u.a)("div",{target:"e1q7zk9m1"})({name:"1rk6upi",styles:"color:#24292e;background-color:#fafbfc;padding:10px;height:40px;"}),ht={name:"10nze3y",styles:"padding:5px 10px;"},jt=function(){return Object(C.c)(gt,{initial:{opacity:0,translateY:100},animate:{opacity:1,translateY:0},transition:{duration:$(.5)}},Object(C.c)(mt,null,Object(C.c)(bt,null)),Object(C.c)("div",{css:ht},Object(C.c)(dt,null)))},Ot=n(69),vt=n(70),yt=n(80),xt=n(71),Ct=n(81),kt=n(328),wt=n(169);var Vt=Object(u.a)((function(e){return Object(C.c)("div",e,Object(C.c)("span",null,"Check out"," ",Object(C.c)(wt.a,{placement:"bottom",title:"Backstage's Support is a community-backed place to request and give help."},Object(C.c)("a",Object(y.a)({href:"https://backstage.io/docs/overview/support",target:"_blank",rel:"noopener noreferrer"},e),"Support and community"))," ","if you are experiencing issues related to Backstage during the upgrading process."))}),{target:"e1dzoh7i0"})({name:"omrhug",styles:"padding-top:15px;span > a{color:#045dc1;&:hover{color:#40a9ff;}}"});var Nt=Object(u.a)("div",{target:"e1n00l3l0"})({name:"1aynp02",styles:"position:relative;margin-top:16px;color:rgba(0,0,0,0.65);overflow:hidden;"}),St=Object(u.a)("div",{target:"e1n00l3l1"})({name:"1ieyl17",styles:"color:rgba(0,0,0,0.65);background-color:#fffbe6;border-width:1px;border-left-width:7px;border-color:#ffe58f;border-style:solid;border-radius:3px;transition:padding 0.25s ease-out;"}),Dt=Object(u.a)((function(e){var t=e.isContentVisible,n=Object(l.a)(e,["isContentVisible"]);return Object(C.c)(me.c.h2,Object(y.a)({},n,{variants:{visibleContent:{translateX:0,translateY:0},hiddenContent:{translateX:-5,translateY:-10}},initial:t?"visibleContent":"hiddenContent",animate:t?"visibleContent":"hiddenContent",transition:{duration:$(.25)},inherit:!1}))}),{target:"e1n00l3l2"})({name:"16t2yzh",styles:"font-size:17px;cursor:pointer;margin:0px;padding:18px 0px 0px 14px;"}),Pt=Object(u.a)((function(e){var t=e.isContentVisible,n=e.children,a=Object(l.a)(e,["isContentVisible","children"]);return Object(C.c)(me.c.div,Object(y.a)({},a,{variants:{visible:{opacity:1,height:"auto",translateY:0},hidden:{opacity:0,height:0,translateY:-20}},initial:t?"visible":"hidden",animate:t?"visible":"hidden",transition:{duration:$(.25)},inherit:!1}),Object(C.c)("div",{children:n}))}),{target:"e1n00l3l3"})({name:"1c655gy",styles:"& > div{padding:15px 24px 19px;}"}),Tt=Object(u.a)((function(e){return Object(C.c)("span",Object(y.a)({},e,{role:"img","aria-label":"Megaphone emoji"}),"\ud83d\udce3")}),{target:"e1n00l3l4"})({name:"9g4yx1",styles:"margin:0px 10px;"}),Rt=Object(u.a)((function(e){var t=e.toggleContentVisibility,n=e.isContentVisible,a=Object(l.a)(e,["toggleContentVisibility","isContentVisible"]);return Object(C.c)(S.a,Object(y.a)({},a,{type:"link",icon:n?Object(C.c)(kt.a,null):Object(C.c)(we.a,null),onClick:t}))}),{target:"e1n00l3l5"})({name:"1meph0h",styles:"float:right;position:absolute;top:11px;right:12px;font-size:12px;border-width:0px;width:20px;height:20px;color:rgba(0,0,0,0.45);&:hover,&:focus{color:#24292e;}"}),At=Object(u.a)("hr",{target:"e1n00l3l6"})({name:"94b9fp",styles:"margin:15px 0;background-color:#e1e4e8;height:0.25em;border:0;"}),Et=Object(u.a)("ol",{target:"e1n00l3l7"})({name:"jbbt8s",styles:"padding-inline-start:18px;margin:10px 0 0;"}),zt=function(e){function t(){var e,n;Object(Ot.a)(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(yt.a)(this,(e=Object(xt.a)(t)).call.apply(e,[this].concat(o)))).state={isContentVisible:!1},n.handleToggleContentVisibility=function(){return n.setState((function(e){return{isContentVisible:!e.isContentVisible}}))},n.getChangelog=function(e){var t=e.version,a=n.props.packageName,o=n.context.to.version;if(a===z.RNW||a===z.RNM)return{title:"React Native ".concat(a===z.RNW?"Windows":"macOS"," ").concat(o," changelog"),url:J({packageName:a,version:o}),version:o};if(a===z.BACKSTAGE)return{title:"Backstage ".concat(t," changelog"),url:J({packageName:a,version:t}),version:t};var i=t.slice(0,4);return{title:"React Native ".concat(i," changelog"),url:J({packageName:a,version:i}),version:i}},n}return Object(Ct.a)(t,e),Object(vt.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){var n=this.props.isLoading&&!e.isLoading,a=this.state.isContentVisible!==t.isContentVisible;return n||a}},{key:"render",value:function(){var e=this,t=this.state.isContentVisible,n=X({fromVersion:this.context.from.version,toVersion:this.context.to.version,versions:this.context.releases}),o=n.length>1;return Object(C.c)(Nt,{isContentVisible:t},Object(C.c)(St,{isContentVisible:t},Object(C.c)(Dt,{isContentVisible:t,onClick:this.handleToggleContentVisibility},Object(C.c)(Tt,null)," Useful content for upgrading"),Object(C.c)(Rt,{isContentVisible:t,toggleContentVisibility:this.handleToggleContentVisibility}),Object(C.c)(Pt,{isContentVisible:t},n.map((function(t,n){var i=t.usefulContent,r=t.version,c=e.getChangelog({version:r}),s=[].concat(Object(de.a)((null===i||void 0===i?void 0:i.links)||[]),[c]);return Object(C.c)(a.Fragment,{key:n},n>0&&Object(C.c)(At,null),o&&Object(C.c)("h3",null,"Release ",c.version),Object(C.c)("span",null,null===i||void 0===i?void 0:i.description),Object(C.c)(Et,null,s.map((function(e,t){var n=e.url,a=e.title;return Object(C.c)("li",{key:"".concat(n).concat(t)},Object(C.c)(Fe,{href:n},a))}))))})),Object(C.c)(Vt,null))))}}]),t}(a.Component);zt.contextType=ee;var Bt=zt;var Lt=Object(u.a)("div",{target:"e2kvrvo0"})({name:"1p2jtab",styles:"padding-right:10px;"}),Mt=Object(u.a)("div",{target:"e2kvrvo1"})("display:flex;justify-content:space-between;align-items:center;background-color:",(function(e){return e.index%2===0?"#fafbfc":"#ffffff"}),";color:#24292e;font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace;font-size:12px;width:500px;max-width:500px;padding:10px 15px;border-bottom:1px solid #e1e4e8;"),qt=Object(u.a)((function(e){var t=e.className,n=Object(l.a)(e,["className"]);return Object(C.c)(m.a,Object(y.a)({overlayClassName:t},n))}),{target:"e2kvrvo2"})({name:"1yl8iqp",styles:".ant-popover-inner-content{padding:0;background:red;}"}),It=function(e){var t=e.binaryFiles,n=e.toVersion,a=e.appName,o=e.packageName;return t.map((function(e,t){var i=e.newPath;return Object(C.c)(Mt,{key:t,index:t},Y(i,a),Object(C.c)(Pe,{visible:!0,version:n,path:i,packageName:o}))}))},Kt=function(e){var t=e.diff,n=(e.fromVersion,e.toVersion),a=e.appName,o=e.packageName,i=t.filter((function(e){var t=e.hunks,n=e.type;return 0===t.length&&"delete"!==n}));return 0===i.length?null:Object(C.c)(Lt,null,Object(C.c)(qt,{placement:"bottomRight",content:Object(C.c)(It,{binaryFiles:i,toVersion:n,appName:a,packageName:o}),trigger:"click"},Object(C.c)(wt.a,{placement:"top",title:"Binaries updated within the version range"},Object(C.c)(S.a,null,"Binaries"))))},_t=n(317);var Ut=Object(u.a)((function(e){var t=e.handleViewStyleChange,n=e.diffViewStyle;return Object(C.c)(_t.a.Group,{value:n},Object(C.c)(_t.a.Button,{value:"split",onChange:function(){return t("split")}},"Split"),Object(C.c)(_t.a.Button,{value:"unified",onChange:function(){return t("unified")}},"Unified"))}),{target:"end0ift0"})({name:"zejs5o",styles:"float:right;position:absolute;top:10px;right:10px;font-size:12px;border-width:0px;width:20px;height:20px;margin-right:8px;&,&:hover,&:focus{color:#24292e;}"}),Wt=n(149),Ft=n(150),Gt=n.n(Ft);function Yt(){var e=Object(Wt.a)(["\n  0% {\n    transform: translate(0, 0);\n  }\n\n  10%, 90% {\n    transform: translate(0, -2px);\n  }\n\n  20%, 80% {\n    transform: translate(0, 3px);\n  }\n\n  30%, 50%, 70% {\n    transform: translate(0, -5px);\n  }\n\n  40%, 60% {\n    transform: translate(0, 5px);\n  }\n"]);return Yt=function(){return e},e}var Ht=Object(C.d)(Yt()),Xt=Object(u.a)((function(e){var t=e.completed,n=e.total,a=e.popoverContent,o=(e.popoverCursorType,Object(l.a)(e,["completed","total","popoverContent","popoverCursorType"]));return Object(C.c)("div",o,Object(C.c)(m.a,{content:a,trigger:"hover",placement:"right",overlayStyle:{position:"fixed"}},Object(C.c)("span",{className:"completedAmount"},0===t?1:t)," ","/",n),Object(C.c)(Gt.a,{active:t===n,config:{elementCount:200,angle:130,startVelocity:30}}))}),{target:"eqjubm30"})("position:fixed;bottom:20px;right:20px;background:#d5eafd;padding:10px;border:1px solid #1890ff;border-radius:20px;color:#7dadda;transform:",(function(e){return e.completed?"translateY(0px)":"translateY(70px)"}),";display:flex;align-self:flex-end;transition:transform 0.3s;cursor:",(function(e){return e.popoverCursorType}),";",(function(e){return e.completed===e.total&&Object(C.b)("transform:translateY(70px);animation:",Ht,";animation-duration:1.5s;")})," .completedAmount{color:#1890ff;}");var Jt=Object(u.a)("div",{target:"eblarkx0"})({name:"smiwve",styles:"display:flex;justify-content:center;top:10px;font-size:12px;border-width:0px;height:20px;"}),$t=Object(u.a)(S.a,{target:"eblarkx1"})({name:"116cghs",styles:"border-radius:3px;line-height:30px;"}),Qt=function(e){var t=e.packageName,n=e.language,a=e.fromVersion,o=e.toVersion;if(""===a)return null;var i=F({packageName:t,language:n,fromVersion:a,toVersion:o});return Object(C.c)(Jt,null,Object(C.c)($t,{href:i,type:"link"},"View raw diff"))},Zt=function(e){return new Promise((function(t){return setTimeout(t,e)}))};var en=Object(u.a)("div",{target:"exsbni10"})({name:"7822g1",styles:"width:90%;"}),tn=Object(u.a)("div",{target:"exsbni11"})({name:"gvdh95",styles:"display:flex;position:relative;border-width:1px;margin-top:16px;flex-direction:row;justify-content:flex-end;"}),nn=function(e){var t=e.oldRevision,n=e.newRevision;return"".concat(t).concat(n)},an=Object(he.g)({multiple:!0})((function(e){var t=e.packageName,n=e.language,o=e.fromVersion,i=e.toVersion,r=e.shouldShowDiff,c=e.selectedChanges,l=e.onToggleChangeSelection,u=e.appName,p=function(e){var t=e.shouldShowDiff,n=e.packageName,o=e.language,i=e.fromVersion,r=e.toVersion,c=Object(a.useState)(!0),l=Object(s.a)(c,2),u=l[0],p=l[1],f=Object(a.useState)(!1),b=Object(s.a)(f,2),m=b[0],h=b[1],j=Object(a.useState)(void 0),O=Object(s.a)(j,2),v=O[0],y=O[1];return Object(a.useEffect)((function(){t&&function(){var e=Object(g.a)(d.a.mark((function e(){var t,a,c,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),h(!1),e.next=4,Promise.all([fetch(F({packageName:n,language:o,fromVersion:i,toVersion:r})),Zt(300)]);case 4:return t=e.sent,a=Object(s.a)(t,1),c=a[0],e.next=9,c.text();case 9:return l=e.sent,y(Object(he.e)(l).sort((function(e){return e.newPath.includes("package.json")?-1:1}))),p(!1),h(!0),e.abrupt("return");case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[t,n,o,i,r]),{isLoading:u,isDone:m,diff:v}}({shouldShowDiff:r,packageName:t,language:n,fromVersion:o,toVersion:i}),f=p.isLoading,b=p.isDone,m=p.diff,h=Object(a.useState)([]),j=Object(s.a)(h,2),O=j[0],v=j[1],x=Object(a.useState)(!1),k=Object(s.a)(x,2),w=k[0],V=k[1],N={content:"Scroll to Done section",cursorType:"s-resize"},S={content:"Scroll to Top",cursorType:"n-resize"},D=Object(a.useState)(N),P=Object(s.a)(D,2),T=P[0],R=P[1],A=Object(a.useRef)(null),E=Object(a.useState)(localStorage.getItem("viewStyle")||"split"),z=Object(s.a)(E,2),B=z[0],L=z[1];if(Object(a.useEffect)((function(){b||v([])}),[b]),!r)return null;if(f)return Object(C.c)(en,null,Object(C.c)(me.a,null,Object(C.c)(jt,null)));var M={diff:m,getDiffKey:nn,completedDiffs:O,fromVersion:o,toVersion:i,handleCompleteDiff:function(e){if(O.includes(e))return v((function(t){return t.filter((function(t){return t!==e}))}));v((function(t){return[].concat(Object(de.a)(t),[e])}))},selectedChanges:c,onToggleChangeSelection:l};return Object(C.c)(en,null,Object(C.c)(me.b,null,Object(C.c)(me.c.div,{initial:{opacity:0,translateY:75},animate:{opacity:1,translateY:0},transition:{duration:$(.5)}},Object(C.c)(Bt,{isLoading:f,packageName:t,fromVersion:o,toVersion:i}),Object(C.c)(tn,null,Object(C.c)(Kt,{diff:m,fromVersion:o,toVersion:i,appName:u,packageName:t}),Object(C.c)(Qt,{packageName:t,language:n,fromVersion:o,toVersion:i}),Object(C.c)(Ut,{handleViewStyleChange:function(e){L(e),localStorage.setItem("viewStyle",e)},diffViewStyle:B})),Object(C.c)(pt,Object(y.a)({},M,{packageName:t,isDoneSection:!1,diffViewStyle:B,appName:u})),function(e){var t=e.diff,n=e.completedDiffs;return t.length===n.length&&Object(C.c)(ge.a,{style:{marginTop:16},message:"Your upgrade is done \ud83c\udf89\ud83c\udf89",type:"success",showIcon:!0,closable:!0})}({diff:m,completedDiffs:O}),Object(C.c)(pt,Object(y.a)({},M,{packageName:t,isDoneSection:!0,title:"Done",appName:u,doneTitleRef:A})))),Object(C.c)(Xt,{completed:O.length,total:m.length,onClick:function(){V(!w),w?(R(N),window.scrollTo({top:0,behavior:"smooth"})):(R(S),A.current.scrollIntoView({behavior:"smooth"}))},popoverContent:T.content,popoverCursorType:T.cursorType}))})),on=n(159),rn=n(160),cn=n.n(rn),sn=n(161),ln=n(318);var un=[{title:"Xcode 12.5",href:"https://github.com/facebook/react-native/issues/31480"},{title:"Apple Silicon (M1)",href:"https://github.com/facebook/react-native/issues/31941"}],pn={name:"1hskriy",styles:"width:250px;"},fn=Object(u.a)(me.c.div,{target:"e19im58a0"})((function(e){return!e.willHaveAnimation&&pn}),""),bn={name:"tysfl",styles:"display:none;opacity:0;height:0;"},dn=Object(u.a)(me.c.div,{target:"e19im58a1"})((function(e){return e.willHaveAnimation&&bn})," h4{border-bottom:1px solid #e8e8e8;padding-bottom:6px;}"),gn=Object(u.a)("ul",{target:"e19im58a2"})({name:"2v3mxy",styles:"padding-left:13px;margin-bottom:0;list-style:disc;"}),mn=function(e){var t=e.isTooltipVisible,n=e.hasSeenTooltip,i=Object(a.useRef)(!1),r=Object(a.useRef)(t||i.current),c=Object(me.d)(),s=Object(me.d)(),l=Object(me.d)();Object(a.useEffect)((function(){t||i.current?n&&(i.current=!0):u()}),[t]);var u=function(){var e=Object(g.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=5;break}return e.next=3,Promise.all([l.start({display:"initial",transition:{duration:0}}),s.start({opacity:0,transition:{duration:.2}}),c.start({width:250,transition:{duration:.2,delay:.2}}),s.start({height:0,transition:{duration:.2}}),l.start({height:"auto",transition:{duration:.2}}),l.start({opacity:1,transition:{duration:.5,delay:.3}})]);case 3:return e.next=5,s.start({display:"none"});case 5:i.current=!0;case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(C.c)(fn,{willHaveAnimation:r.current,animate:c},Object(C.c)(me.c.div,{animate:s},Object(C.c)("span",null,"Check here the troubleshooting guides for issues with Xcode 12.5 or Apple Silicon (M1) machine.")),Object(C.c)(dn,{willHaveAnimation:r.current,animate:l},Object(C.c)(o.a.Fragment,null,Object(C.c)("h4",null,"Troubleshooting guides"),Object(C.c)(gn,null,un.map((function(e){var t=e.title,n=e.href;return Object(C.c)("li",{key:n},Object(C.c)(Fe,{href:n},t))}))))))};var hn="troubleshootingGuidesButton",jn=Object(sn.a)("troubleshootingTooltip"),On=Object(u.a)("span",{target:"e1ouyeum0"})({name:"1iwocqw",styles:"font-family:initial;"}),vn=Object(u.a)(S.a,{target:"e1ouyeum1"})({name:"165kgnb",styles:"width:32px;padding:0;color:initial;"}),yn=function(){var e=Object(a.useState)(!1),t=Object(s.a)(e,2),n=t[0],o=t[1],i=Object(a.useState)(!1),r=Object(s.a)(i,2),c=r[0],l=r[1],u=jn({hasSeen:!1,hasSeenAt:void 0}),p=Object(s.a)(u,2),f=p[0],b=p[1],d=Object(a.useState)(!1),g=Object(s.a)(d,2),h=g[0],j=g[1],O=Object(a.useRef)(!1);Object(a.useEffect)((function(){if(!f.hasSeen)return j(!0),void o(!0);Object(ln.a)(new Date,new Date(f.hasSeenAt))>=2&&b({hasSeen:!1,hasSeenAt:void 0})}),[f]);return Object(C.c)(m.a,{placement:"bottomRight",content:Object(C.c)(mn,{isTooltipVisible:h,hasSeenTooltip:f.hasSeen}),trigger:"click",visible:n,onVisibleChange:function(e){O.current||o(!1)}},Object(C.c)(vn,{"data-testid":hn,onClick:function(){O.current=!0,n?h?(j(!1),l(!c),b({hasSeen:!0,hasSeenAt:(new Date).toISOString()})):o(!n):o(!0),setTimeout((function(){O.current=!1}),0)}},Object(C.c)(On,{role:"img"},"\u26a0\ufe0f")))};var xn=Object(u.a)("div",{target:"el8swy00"})({name:"cqyjk8",styles:"display:flex;align-items:center;justify-content:center;flex-direction:column;padding-top:30px;"}),Cn=Object(u.a)(p.a,{target:"el8swy01"})({name:"1xfqzpp",styles:"width:90%;border-radius:3px;border-color:#e8e8e8;"}),kn=Object(u.a)("div",{target:"el8swy02"})("display:flex;flex-direction:column;align-items:center;@media ",K,"{flex-direction:row;}"),wn=Object(u.a)("img",{target:"el8swy03"})("width:50px;margin-bottom:15px;@media ",K,"{width:50px;}"),Vn=Object(u.a)("h1",{target:"el8swy04"})({name:"7kez8b",styles:"margin:0;margin-left:15px;"}),Nn=Object(u.a)("div",{target:"el8swy05"})({name:"kmnzss",styles:"display:flex;align-items:center;margin-bottom:8px;"}),Sn=Object(u.a)("div",{target:"el8swy06"})({name:"v861zs",styles:"display:flex;align-items:center;justify-content:center;gap:15px;margin-bottom:8px;flex:1;"}),Dn=Object(u.a)((function(e){var t=e.className,n=Object(l.a)(e,["className"]);return Object(C.c)("div",{className:t},Object(C.c)(f.a,n))}),{target:"el8swy07"})({name:"z6j3nc",styles:"margin-top:10px;margin-left:15px;margin-right:auto;"}),Pn=function(){var e=function(){var e=new URLSearchParams(window.location.search).get("package"),t=Object.values(z);return e&&t.includes(e)?{packageName:e,isPackageNameDefinedInURL:!0}:{packageName:z.BACKSTAGE,isPackageNameDefinedInURL:!1}}(),t=e.packageName,n=e.isPackageNameDefinedInURL,o=function(){var e=new URLSearchParams(window.location.search).get("language"),t=Object.values(B);return e&&t.includes(e)?e:B.CPP}(),i=Object(a.useState)(t),r=Object(s.a)(i,2),l=r[0],u=(r[1],Object(a.useState)(o)),p=Object(s.a)(u,2),f=p[0],b=(p[1],Object(a.useState)("")),d=Object(s.a)(b,2),g=d[0],m=d[1],h=Object(a.useState)(""),j=Object(s.a)(h,2),O=j[0],v=j[1],y=Object(a.useState)(!1),x=Object(s.a)(y,2),k=x[0],w=x[1],V=Object(a.useState)(Object(c.a)({},"".concat("Show latest release candidates"),!1)),N=Object(s.a)(V,2),S=N[0],D=(N[1],Object(a.useState)("")),P=Object(s.a)(D,1)[0];Object(a.useEffect)((function(){1}),[]);return Object(C.c)(te,{packageName:l},Object(C.c)(xn,null,Object(C.c)(Cn,null,Object(C.c)(kn,null,Object(C.c)(Nn,null,Object(C.c)(wn,{alt:"Backstage logo",title:"Backstage logo",src:cn.a}),Object(C.c)("a",{href:on.a},Object(C.c)(Vn,null,"Backstage Upgrade Helper"))),Object(C.c)(Sn,null,Object(C.c)(Dn,{href:"https://github.com/backstage/upgrade-helper","data-icon":"octicon-star","data-show-count":"true","aria-label":"Star backstage/upgrade-helper on GitHub"},"Star"),l===z.RN&&Object(C.c)(yn,null))),Object(C.c)(be,{key:l,showDiff:function(e){var t=e.fromVersion,n=e.toVersion;t!==n&&(m(t),v(n),w(!0))},showReleaseCandidates:S["Show latest release candidates"],fromVersion:g,toVersion:O,packageName:l,language:f,isPackageNameDefinedInURL:n})),Object(C.c)(an,{shouldShowDiff:k,fromVersion:g,toVersion:O,appName:P,packageName:l,language:f})))},Tn=function(){return Object(C.c)(Pn,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(Object(C.c)(Tn,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[173,1,2]]]);
//# sourceMappingURL=main.5335c542.chunk.js.map